{"version":3,"sources":["../../src/services/routesHelper.js"],"names":["allowOnly","accessLevel","callback","checkUserRole","req","res","console","log","user","role","dataValues","status","json","msg"],"mappings":";;;;;AAAA,IAAMA,YAAY,SAAZA,SAAY,CAASC,WAAT,EAAsBC,QAAtB,EAAgC;AAC9C,aAASC,aAAT,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAC7BC,gBAAQC,GAAR,CAAYH,IAAII,IAAhB;AAD6B,YAErBC,IAFqB,GAEZL,IAAII,IAAJ,CAAS,CAAT,EAAYE,UAFA,CAErBD,IAFqB;;AAG7BH,gBAAQC,GAAR,CAAYN,WAAZ;AACAK,gBAAQC,GAAR,CAAYE,IAAZ;AACA,YAAG,EAAER,cAAcQ,IAAhB,CAAH,EAA0B;AACtBJ,gBAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,KAAK,gCAAP,EAArB;AACA;AACH;;AAEDX,iBAASE,GAAT,EAAcC,GAAd;AACH;;AAED,WAAOF,aAAP;AACH,CAfD;;QAiBSH,S,GAAAA,S","file":"routesHelper.js","sourcesContent":["const allowOnly = function(accessLevel, callback) {\r\n    function checkUserRole(req, res) {\r\n        console.log(req.user)\r\n        const { role } = req.user[0].dataValues;\r\n        console.log(accessLevel)\r\n        console.log(role)\r\n        if(!(accessLevel & role)) {\r\n            res.status(403).json({ msg: 'You do not have access to this'})\r\n            return;\r\n        }\r\n\r\n        callback(req, res)\r\n    }\r\n\r\n    return checkUserRole;\r\n}\r\n\r\nexport { allowOnly }"]}